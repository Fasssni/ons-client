{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\OnS\\\\client\\\\src\\\\UI\\\\ModalAdd.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { Context } from \"..\";\nimport { createDevice, fetchDevices } from \"../http/deviceAPI\";\nimport DeviceStore from \"../store/DeviceStore\";\nimport { MyButton } from \"./UIs/MyButton/MyButton\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ModalAdd = _ref => {\n  _s();\n\n  let {\n    mod,\n    setMod\n  } = _ref;\n  var i = 10;\n  const {\n    device\n  } = useContext(Context);\n  const [dev, setDev] = useState({\n    id: i++,\n    title: '',\n    description: \"\",\n    price: \"\",\n    file: \"\"\n  });\n\n  const clicker = async () => {\n    try {\n      let data = await createDevice(dev);\n      device.setDevices([...device.devices, dev]);\n      console.log(data);\n      setMod(false);\n    } catch (e) {\n      alert(e.message);\n    }\n\n    setDev({\n      id: i++,\n      title: '',\n      description: \"\",\n      price: \"\",\n      file: \"\"\n    });\n  }; // useEffect(()=>{ \n  //     fetchDevices().then(data=>device.setDevice(data.rows))\n  //   },[])\n\n\n  const addFunction = () => {\n    device.setDevices(dev);\n    console.log(dev);\n    setMod(false);\n    return setDev({\n      id: i++,\n      title: '',\n      description: \"\",\n      price: \"\"\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: mod ? 'modal' : 'modal_none',\n    onClick: () => setMod(false),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"inner\",\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"input\",\n        placeholder: \"\\u0423\\u043A\\u0430\\u0436\\u0438\\u0442\\u0435 \\u0438\\u043C\\u044F \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430\",\n        value: dev.title,\n        onChange: e => setDev({ ...dev,\n          title: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"input\",\n        placeholder: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430\",\n        value: dev.description,\n        onChange: e => setDev({ ...dev,\n          description: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"input\",\n        placeholder: \"\\u0426\\u0435\\u043D\\u0430\",\n        value: dev.price,\n        onChange: e => setDev({ ...dev,\n          price: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"input\",\n        type: \"file\",\n        placeholder: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0444\\u043E\\u0442\\u043E\\u0433\\u0440\\u0430\\u0444\\u0438\\u044E\",\n        value: dev.file,\n        onChange: e => setDev({ ...dev,\n          price: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(MyButton, {\n        onClick: addFunction,\n        children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 16\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ModalAdd, \"JLXkDVHRN6IAUmgK3+TL3A2Y/e0=\");\n\n_c = ModalAdd;\n\nvar _c;\n\n$RefreshReg$(_c, \"ModalAdd\");","map":{"version":3,"names":["React","useContext","useEffect","useState","Context","createDevice","fetchDevices","DeviceStore","MyButton","ModalAdd","mod","setMod","i","device","dev","setDev","id","title","description","price","file","clicker","data","setDevices","devices","console","log","e","alert","message","addFunction","stopPropagation","target","value"],"sources":["C:/Users/User/Desktop/OnS/client/src/UI/ModalAdd.jsx"],"sourcesContent":["import React, { useContext, useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { Context } from \"..\";\r\nimport { createDevice, fetchDevices } from \"../http/deviceAPI\";\r\nimport DeviceStore from \"../store/DeviceStore\";\r\nimport { MyButton } from \"./UIs/MyButton/MyButton\";\r\n\r\n\r\nexport const ModalAdd=({mod,setMod})=>{ \r\n\r\n    var i=10;\r\n    \r\n\r\n    const {device}=useContext(Context)\r\n    const [dev, setDev]=useState({id:i++,title:'',description:\"\", price:\"\", file:\"\"})\r\n    \r\n    \r\n    const clicker=async()=>{\r\n       try{\r\n       let data=await createDevice(dev)\r\n       \r\n       device.setDevices([...device.devices,dev])\r\n       console.log(data)\r\n       setMod(false)\r\n       }catch(e){ \r\n       alert(e.message)\r\n       }\r\n       setDev({id:i++,title:'',description:\"\", price:\"\", file:\"\"})\r\n    }\r\n\r\n    // useEffect(()=>{ \r\n      \r\n    //     fetchDevices().then(data=>device.setDevice(data.rows))\r\n    //   },[])\r\n    const addFunction=()=>{ \r\n        device.setDevices(dev)\r\n        console.log(dev)\r\n        setMod(false)\r\n        return( \r\n            setDev({id:i++,title:'',description:\"\", price:\"\"})\r\n        )\r\n    }\r\n  \r\n\r\n\r\n\r\n    return( \r\n        <div className={mod?'modal':'modal_none'} onClick={()=>setMod(false)}> \r\n        <div className=\"inner\" onClick={(e)=>e.stopPropagation()}>\r\n            {/* <select>\r\n               {device.types.map((e)=>{ \r\n                return(\r\n                    <option>{e.type}</option>\r\n                )\r\n               })}\r\n               \r\n        \r\n            </select> */}\r\n                 <input className=\"input\" placeholder=\"Укажите имя товара\" value={dev.title} onChange={(e)=>setDev({...dev,title:e.target.value})}></input> \r\n                 <input className=\"input\" placeholder=\"Описание товара\" value={dev.description} onChange={(e)=>setDev({...dev,description:e.target.value})}></input> \r\n                 <input className=\"input\" placeholder=\"Цена\" value={dev.price} onChange={(e)=>setDev({...dev,price:e.target.value})}></input> \r\n                 <input className=\"input\" type=\"file\" placeholder=\"Выберите фотографию\" value={dev.file} onChange={(e)=>setDev({...dev,price:e.target.value})}></input> \r\n            \r\n               <MyButton onClick={addFunction}>Добавить</MyButton>\r\n\r\n        </div>\r\n    </div>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}